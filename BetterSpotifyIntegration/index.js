(function(o,i,f,y,m,p,s){"use strict";const g=i.findByProps("useStateFromStores"),d=i.findByStoreName("SpotifyStore"),u=i.findByProps("Sizes","Looks"),v=i.findByProps("play","sync");function S(e){const a=g.useStateFromStores([d],function(){return d.getActivity()?.party?.id}),t=e.isCurrentUser||e.activity?.party?.id===a;return React.createElement(s.View,{pointerEvents:t?"none":"auto"},React.createElement(u,{text:t?"You are already along for this ride":"Listen Along",size:u.Sizes.SMALL,style:{marginTop:12,backgroundColor:e.activityButtonColor,opacity:t?.5:1},renderIcon:function(){return React.createElement(s.Image,{style:{height:16,width:16,marginRight:8,tintColor:"white"},source:p.getAssetIDByName("ic_headphone")})},onPress:function(){return void v.sync(e.activity,e.user.id)}}))}let l;var h={onLoad(){const e=function(){return f.i18n.Messages.USER_ACTIVITY_HEADER_LISTENING?.intlMessage?.format({name:"Spotify"})};l=y.before("default",i.findByName("UserProfileSection",!1),function(a){let[t]=a;if(t.title!==e())return;const c=m.findInReactTree(t.children,function(n){return n?.style?.padding===0}),r=c?.children?.findIndex?.(function(n){return n?.type?.name==="Actions"});if(r&&r!==-1){const n=c.children[r];c.children[r]=React.createElement(React.Fragment,null,n,React.createElement(S,n.props))}})},onUnload(){l?.()}};return o.default=h,Object.defineProperty(o,"__esModule",{value:!0}),o})({},vendetta.metro,vendetta.metro.common,vendetta.patcher,vendetta.utils,vendetta.ui.assets,vendetta.metro.common.ReactNative);
